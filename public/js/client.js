$(document).ready(function(){function e(e){var t=document.getElementById("chat"),n=document.createElement("li");n.innerHTML=e,t.appendChild(n)}var t={init:function(){console.log("IO Start"),t.socket=io.connect(),t.bindEvents(),t.socket.on("msg",e)},bindEvents:function(){t.socket.on("connected",t.onConnected),t.socket.on("newGameCreated",t.newGameCreated)},onConnected:function(){n.mySocketId=t.socket.socket.sessionID},newGameCreated:function(e){console.log(e.gameId),n.Host.gameInit(e)}},n={gameId:0,myRole:"",mySocketId:"",init:function(){console.log("App Start!"),n.cacheElements(),n.bindEvents()},cacheElements:function(){n.$doc=$(document),n.$templateIntroScreen=$(".introScreen"),n.$templateNewGame=$(".hostScreen")},bindEvents:function(){n.$doc.on("click","#hostGame",n.Host.onHostGame)},Host:{players:[],isNewGame:!1,numPlayers:0,onHostGame:function(){t.socket.emit("hostCreateGame")},gameInit:function(e){n.gameId=e.gameId,n.mySocketId=e.mySocketId,n.myRole="Host",n.Host.numPlayers=0,n.Host.displayNewGameScreen(),console.log("Game started with the id "+n.gameId+" by host "+n.mySocketId)},displayNewGameScreen:function(){page="host",console.log("Start a game"),n.$templateIntroScreen.hide(),n.$templateNewGame.show(),$(".serverAddress").append(window.location.href),$(".lobbyAddress").append(n.gameId)}}},o=document.getElementById("chat-form");o.addEventListener("submit",function(e){var n=document.getElementById("chat-input"),o=document.getElementById("chat-name").value,c=n.value;n.value="",t.socket.emit("msg",o+": "+c),t.socket.emit("username",o),e.preventDefault()}),t.init(),n.init()});